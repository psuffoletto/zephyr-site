---
import BaseLayout from '../../layouts/BaseLayout.astro';

const installImages = [
  { src: '/images/johns-hopkins/install-1.jpg', alt: 'Clean bedding delivery system installation' },
  { src: '/images/johns-hopkins/install-2.jpg', alt: 'Pneumatic conveying lines routed through facility' },
  { src: '/images/johns-hopkins/install-3.jpg', alt: 'Dispensing station in vivarium housing area' },
];

const results = [
  { stat: 'Reduced', label: 'Labor', desc: 'Bedding transport tasks are now automated, allowing staff to focus on animal care.' },
  { stat: 'Improved', label: 'Air Quality', desc: 'The enclosed design has drastically reduced airborne dust and allergen exposure.' },
  { stat: 'Hygienic', label: 'Operation', desc: 'Both systems reduce cross-contamination risks and meet stringent biosafety standards.' },
  { stat: 'Scalable', label: 'Design', desc: 'The system is modular, allowing for future expansion as research programs grow.' },
];
---

<BaseLayout title="Johns Hopkins University — Success Story" description="How Zephyr Equipment engineered a clean bedding delivery and waste disposal system for Johns Hopkins University's biomedical research facility.">

  <!-- ===== HERO ===== -->
  <section class="cs-hero">
    <div class="cs-hero-bg"></div>
    <div class="cs-hero-overlay"></div>
    <div class="container cs-hero-content">
      <a href="/success-stories" class="cs-back">
        <svg width="16" height="16" viewBox="0 0 20 20" fill="none">
          <path d="M16 10H4M4 10L9 5M4 10L9 15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        All Success Stories
      </a>
      <span class="label" style="color: var(--zephyr-orange);">Life Sciences</span>
      <h1 class="display-lg" style="color: white; margin-top: 0.5rem;">Enhancing Lab Efficiency at<br /><span style="color: var(--zephyr-orange);">Johns Hopkins</span></h1>
      <p class="accent-text" style="color: var(--steel-300); margin-top: 0.5rem;">Clean bedding delivery & waste disposal for biomedical research</p>
      <div class="cs-hero-meta">
        <div class="cs-meta-item">
          <span class="cs-meta-label">Client</span>
          <span class="cs-meta-value">Johns Hopkins University</span>
        </div>
        <div class="cs-meta-item">
          <span class="cs-meta-label">Industry</span>
          <span class="cs-meta-value">Biomedical Research</span>
        </div>
        <div class="cs-meta-item">
          <span class="cs-meta-label">Systems</span>
          <span class="cs-meta-value">Bedding Delivery & Waste Disposal</span>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== HERO IMAGE ===== -->
  <section class="cs-hero-image">
    <a href="/images/johns-hopkins/hero-2.png" target="_blank" rel="noopener noreferrer" class="cs-hero-image-link">
      <img src="/images/johns-hopkins/hero-2.png" alt="Johns Hopkins University bedding handling system" />
      <div class="cs-hero-image-expand">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="15 3 21 3 21 9"/>
          <polyline points="9 21 3 21 3 15"/>
          <line x1="21" y1="3" x2="14" y2="10"/>
          <line x1="3" y1="21" x2="10" y2="14"/>
        </svg>
        View Full Image
      </div>
    </a>
  </section>

  <!-- ===== INTRO ===== -->
  <section class="cs-section">
    <div class="container cs-container">
      <div class="cs-card reveal">
        <p class="cs-intro-text">
          At Zephyr Equipment, our mission is to deliver engineered solutions that make a measurable impact. We recently had the privilege of partnering with Johns Hopkins University on a comprehensive clean bedding delivery and waste bedding disposal system for their biomedical research facility — and the results speak for themselves.
        </p>
      </div>
    </div>
  </section>

  <!-- ===== THE CHALLENGE ===== -->
  <section class="cs-section">
    <div class="container cs-container">
      <div class="cs-section-header reveal">
        <span class="label" style="color: var(--zephyr-orange);">01 — The Challenge</span>
        <h2 class="display-md" style="margin-top: 0.5rem;">A Growing Need for Automation</h2>
      </div>
      <div class="cs-body reveal">
        <p>The team at Johns Hopkins was seeking a reliable, hygienic, and efficient way to manage bedding in their vivarium. With increasing throughput demands and strict biosecurity protocols, the traditional manual methods for delivering clean bedding and handling waste were no longer sustainable.</p>
        <p><strong>Their goal was clear:</strong></p>
        <ul>
          <li>Automate clean bedding distribution to multiple cage wash and housing areas.</li>
          <li>Improve containment and minimize operator exposure during waste bedding disposal.</li>
          <li>Integrate seamlessly with existing infrastructure without disrupting daily operations.</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- ===== THE SOLUTION ===== -->
  <section class="cs-section cs-solution-section">
    <div class="container cs-container">
      <div class="cs-section-header reveal">
        <span class="label" style="color: var(--zephyr-orange);">02 — The Solution</span>
        <h2 class="display-md" style="margin-top: 0.5rem;">Dual-System, Custom Engineered</h2>
      </div>
      <p class="cs-body-text reveal">Zephyr engineered a dual-system solution tailored to the facility's exact needs:</p>

      <div class="cs-solution-grid">
        <div class="cs-solution-card reveal">
          <div class="cs-solution-num">01</div>
          <h3 class="cs-solution-title">Clean Bedding Delivery System</h3>
          <p>We implemented an enclosed pneumatic conveying system that transports clean bedding from a central storage hopper to multiple dispensing stations. Our "rainfall-style" dispenser modules ensure even, dust-free bedding distribution into cages, reducing refill time and manual labor.</p>
        </div>
        <div class="cs-solution-card cs-solution-card--accent reveal">
          <div class="cs-solution-num">02</div>
          <h3 class="cs-solution-title">Waste Bedding Collection & Disposal</h3>
          <p>For the dirty side, Zephyr designed a fully contained vacuum disposal system. Waste bedding is pulled directly from the dumping stations and conveyed into a sealed waste hopper located in a service corridor, significantly reducing odor, dust, and the risk of allergen exposure.</p>
        </div>
      </div>

      <div class="cs-controls-note reveal">
        <p>Both systems are controlled via an intuitive touchscreen interface, with smart diagnostics and customizable run parameters to match workflow demand.</p>
      </div>
    </div>
  </section>

  <!-- ===== THE RESULT ===== -->
  <section class="cs-section">
    <div class="container cs-container">
      <div class="cs-section-header reveal">
        <span class="label" style="color: var(--zephyr-orange);">03 — The Result</span>
        <h2 class="display-md" style="margin-top: 0.5rem;">Measurable Impact</h2>
      </div>
      <p class="cs-body-text reveal">Since the installation, Johns Hopkins has seen significant improvements:</p>

      <div class="cs-results-grid">
        {results.map((r, i) => (
          <div class="cs-result-card reveal" data-delay={i}>
            <div class="cs-result-stat">{r.stat}</div>
            <div class="cs-result-label">{r.label}</div>
            <p class="cs-result-desc">{r.desc}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- ===== PARTNERSHIP ===== -->
  <section class="cs-section">
    <div class="container cs-container">
      <div class="cs-card cs-card--dark reveal">
        <h3 class="display-md" style="color: white; margin-bottom: 1rem;">A Partnership Built on Performance</h3>
        <p style="color: var(--steel-300); font-weight: 300; line-height: 1.7;">
          This project highlights the value of collaboration. From kickoff to commissioning, Zephyr worked closely with the Johns Hopkins facilities and animal care teams to design a system that works with their process — not around it. The result is a cleaner, safer, and more efficient facility ready to meet the demands of cutting-edge research.
        </p>
      </div>
    </div>
  </section>

  <!-- ===== INSTALL GALLERY ===== -->
  <section class="cs-section cs-gallery-section">
    <div class="container cs-container">
      <div class="cs-section-header reveal" style="text-align: center;">
        <span class="label" style="color: var(--zephyr-orange);">Installation</span>
        <h2 class="display-md" style="margin-top: 0.5rem;">Project Gallery</h2>
      </div>

      <div class="cs-carousel reveal">
        <div class="cs-carousel-track">
          {installImages.map((img, i) => (
            <div class={`cs-carousel-slide${i === 0 ? ' active' : ''}`} data-index={i}>
              <img src={img.src} alt={img.alt} loading="lazy" />
            </div>
          ))}
        </div>

        <button class="cs-carousel-arrow cs-carousel-prev" aria-label="Previous image">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M15 4L7 12L15 20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        <button class="cs-carousel-arrow cs-carousel-next" aria-label="Next image">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M9 4L17 12L9 20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>

        <div class="cs-carousel-dots">
          {installImages.map((_, i) => (
            <button class={`cs-carousel-dot${i === 0 ? ' active' : ''}`} data-index={i} aria-label={`Go to image ${i + 1}`}></button>
          ))}
        </div>
      </div>

      <div class="cs-carousel-caption"></div>
    </div>
  </section>

  <!-- ===== CTA ===== -->
  <section class="cs-cta reveal">
    <div class="container" style="text-align: center;">
      <span class="label" style="color: var(--zephyr-orange);">Start Your Project</span>
      <h2 class="display-lg" style="color: white; margin-top: 0.75rem;">Let's Engineer<br />Your Solution</h2>
      <p style="color: var(--steel-300); max-width: 500px; margin: 1rem auto 2rem; font-weight: 300; line-height: 1.7;">
        Every facility is different. Tell us about your material handling challenge and we'll design a system that fits.
      </p>
      <a href="/contact" class="btn btn--primary">Get a Quote</a>
    </div>
  </section>

</BaseLayout>

<style>
  /* ===== HERO ===== */
  .cs-hero {
    position: relative;
    padding: 10rem 2rem 4rem;
    overflow: hidden;
  }

  .cs-hero-bg {
    position: absolute; inset: 0;
    background: var(--steel-900);
  }

  .cs-hero-overlay {
    position: absolute; inset: 0;
    background:
      radial-gradient(ellipse at 20% 80%, rgba(232, 97, 45, 0.08) 0%, transparent 50%),
      radial-gradient(ellipse at 80% 20%, rgba(52, 73, 94, 0.15) 0%, transparent 50%);
  }

  .cs-hero-content {
    position: relative;
    z-index: 1;
  }

  .cs-back {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    font-family: var(--font-display);
    font-size: 0.75rem;
    font-weight: 600;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: var(--steel-400);
    text-decoration: none;
    margin-bottom: 1.5rem;
    transition: color 0.2s ease;
  }
  .cs-back:hover { color: var(--zephyr-orange); }

  /* ===== HERO IMAGE ===== */
  .cs-hero-image {
    width: 100%;
    height: 520px;
    overflow: hidden;
  }

  .cs-hero-image-link {
    display: block;
    width: 100%;
    height: 100%;
    position: relative;
    cursor: pointer;
  }

  .cs-hero-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
  }

  .cs-hero-image-expand {
    position: absolute;
    bottom: 1rem;
    right: 1rem;
    display: flex;
    align-items: center;
    gap: 0.4rem;
    padding: 0.5rem 1rem;
    background: rgba(0,0,0,0.6);
    backdrop-filter: blur(4px);
    color: white;
    font-family: var(--font-display);
    font-size: 0.7rem;
    font-weight: 600;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    border-radius: 2px;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .cs-hero-image-link:hover .cs-hero-image-expand {
    opacity: 1;
  }

  .cs-hero-image-placeholder {
    width: 100%;
    height: 360px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    color: var(--steel-500);
    background: linear-gradient(135deg, var(--steel-800) 0%, var(--steel-700) 100%);
  }

  .cs-hero-image-placeholder span {
    font-family: var(--font-display);
    font-size: 0.8rem;
    letter-spacing: 0.1em;
    text-transform: uppercase;
  }

  /* ===== TIGHTER SECTIONS ===== */
  .cs-section {
    padding: 1.5rem 0;
  }

  .cs-hero-meta {
    display: flex;
    flex-wrap: wrap;
    gap: 2.5rem;
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid rgba(255,255,255,0.08);
  }

  .cs-meta-label {
    display: block;
    font-family: var(--font-display);
    font-weight: 600;
    font-size: 0.65rem;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--zephyr-orange);
    margin-bottom: 0.25rem;
  }

  .cs-meta-value {
    font-size: 0.9rem;
    color: var(--steel-200);
    font-weight: 300;
  }

  /* ===== CONTENT ===== */
  .cs-container {
    max-width: 900px;
  }

  .cs-card {
    background: white;
    padding: 2.5rem;
    border-left: 4px solid var(--zephyr-orange);
    box-shadow: 0 4px 24px rgba(0,0,0,0.04);
  }

  .cs-card--dark {
    background: var(--steel-900);
    border-left-color: var(--zephyr-orange);
  }

  .cs-intro-text {
    font-size: 1.1rem;
    line-height: 1.8;
    color: var(--steel-700);
    font-weight: 300;
  }

  .cs-section-header {
    margin-bottom: 1.5rem;
  }

  .cs-body p, .cs-body-text {
    font-weight: 300;
    color: var(--steel-600);
    line-height: 1.75;
    font-size: 0.95rem;
    margin-bottom: 1rem;
  }

  .cs-body strong {
    color: var(--steel-800);
    font-weight: 600;
  }

  .cs-body ul {
    list-style: none;
    padding: 0;
    margin-bottom: 1rem;
  }

  .cs-body ul li {
    position: relative;
    padding-left: 1.5rem;
    font-weight: 300;
    color: var(--steel-600);
    line-height: 1.75;
    font-size: 0.95rem;
    margin-bottom: 0.5rem;
  }

  .cs-body ul li::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0.55rem;
    width: 8px;
    height: 8px;
    background: var(--zephyr-orange);
    transform: rotate(45deg);
  }

  /* ===== SOLUTION CARDS ===== */
  .cs-solution-section {
    background: var(--steel-50);
  }

  .cs-solution-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
    margin-top: 1.5rem;
  }

  .cs-solution-card {
    background: white;
    padding: 2rem;
    border-top: 3px solid var(--zephyr-orange);
  }

  .cs-solution-card--accent {
    background: var(--steel-900);
    border-top-color: var(--zephyr-orange);
  }

  .cs-solution-card--accent p {
    color: var(--steel-300);
  }

  .cs-solution-card--accent .cs-solution-title {
    color: white;
  }

  .cs-solution-card--accent .cs-solution-num {
    color: var(--zephyr-orange);
  }

  .cs-solution-num {
    font-family: var(--font-display);
    font-weight: 300;
    font-size: 2rem;
    color: var(--steel-100);
    line-height: 1;
    margin-bottom: 0.75rem;
  }

  .cs-solution-title {
    font-family: var(--font-display);
    font-weight: 700;
    font-size: 1.1rem;
    text-transform: uppercase;
    letter-spacing: 0.02em;
    color: var(--steel-800);
    margin-bottom: 0.75rem;
  }

  .cs-solution-card p {
    font-weight: 300;
    color: var(--steel-500);
    line-height: 1.7;
    font-size: 0.9rem;
  }

  .cs-controls-note {
    margin-top: 1.5rem;
    padding: 1.5rem 2rem;
    background: white;
    border-left: 4px solid var(--zephyr-orange);
  }

  .cs-controls-note p {
    font-weight: 300;
    color: var(--steel-600);
    line-height: 1.7;
    font-size: 0.9rem;
    margin: 0;
  }

  /* ===== RESULTS ===== */
  .cs-results-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1.5rem;
    margin-top: 1.5rem;
  }

  .cs-result-card {
    padding: 1.5rem;
    background: white;
    border-top: 3px solid transparent;
    transition: all 0.3s ease;
  }
  .cs-result-card:hover {
    border-top-color: var(--zephyr-orange);
    box-shadow: 0 8px 32px rgba(0,0,0,0.06);
    transform: translateY(-2px);
  }

  .cs-result-stat {
    font-family: var(--font-display);
    font-weight: 800;
    font-size: 1.4rem;
    text-transform: uppercase;
    color: var(--zephyr-orange);
    line-height: 1;
  }

  .cs-result-label {
    font-family: var(--font-display);
    font-weight: 600;
    font-size: 0.65rem;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--steel-400);
    margin-top: 0.25rem;
    margin-bottom: 0.75rem;
  }

  .cs-result-desc {
    font-weight: 300;
    color: var(--steel-500);
    line-height: 1.65;
    font-size: 0.82rem;
  }

  /* ===== GALLERY CAROUSEL ===== */
  .cs-gallery-section {
    background: var(--steel-900);
  }

  .cs-gallery-section .cs-section-header h2 {
    color: white;
  }

  .cs-carousel {
    position: relative;
    width: 100%;
    aspect-ratio: 16 / 9;
    overflow: hidden;
    border-radius: 4px;
    background: var(--steel-800);
  }

  .cs-carousel-track {
    position: relative;
    width: 100%;
    height: 100%;
  }

  .cs-carousel-slide {
    position: absolute;
    inset: 0;
    opacity: 0;
    transition: opacity 0.5s ease;
  }
  .cs-carousel-slide.active { opacity: 1; }

  .cs-carousel-slide img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .cs-carousel-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    color: var(--steel-500);
    background: linear-gradient(135deg, var(--steel-800) 0%, var(--steel-700) 100%);
  }

  .cs-carousel-placeholder span {
    font-family: var(--font-display);
    font-size: 0.8rem;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    text-align: center;
    max-width: 300px;
  }

  .cs-carousel-arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 48px;
    height: 48px;
    border-radius: 50%;
    border: 1px solid rgba(255,255,255,0.2);
    background: rgba(0,0,0,0.4);
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    z-index: 2;
    backdrop-filter: blur(4px);
  }
  .cs-carousel-arrow:hover {
    background: rgba(232,97,45,0.8);
    border-color: var(--zephyr-orange);
  }

  .cs-carousel-prev { left: 1rem; }
  .cs-carousel-next { right: 1rem; }

  .cs-carousel-dots {
    position: absolute;
    bottom: 1rem;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 8px;
    z-index: 2;
  }

  .cs-carousel-dot {
    width: 10px;
    height: 10px;
    border-radius: 5px;
    border: none;
    background: rgba(255,255,255,0.35);
    cursor: pointer;
    transition: all 0.3s ease;
  }
  .cs-carousel-dot:hover { background: rgba(255,255,255,0.6); }
  .cs-carousel-dot.active { width: 28px; background: var(--zephyr-orange); }

  .cs-carousel-caption {
    text-align: center;
    font-family: var(--font-display);
    font-size: 0.8rem;
    letter-spacing: 0.1em;
    color: var(--steel-400);
    margin-top: 1rem;
    min-height: 1.5rem;
  }

  /* ===== CTA ===== */
  .cs-cta {
    background: var(--steel-800);
    padding: 4rem 2rem;
  }

  /* ===== RESPONSIVE ===== */
  @media (max-width: 768px) {
    .cs-hero { padding: 8rem 2rem 3rem; }
    .cs-section { padding: 1.25rem 0; }
    .cs-hero-image { height: 280px; }
    .cs-hero-meta { gap: 1.5rem; }
    .cs-solution-grid { grid-template-columns: 1fr; }
    .cs-results-grid { grid-template-columns: 1fr 1fr; }
    .cs-card { padding: 1.5rem; }
    .cs-carousel-arrow { width: 36px; height: 36px; }
  }

  @media (max-width: 480px) {
    .cs-results-grid { grid-template-columns: 1fr; }
  }
</style>

<script>
  const slides = document.querySelectorAll('.cs-carousel-slide');
  const dots = document.querySelectorAll('.cs-carousel-dot');
  const prevBtn = document.querySelector('.cs-carousel-prev');
  const nextBtn = document.querySelector('.cs-carousel-next');
  const caption = document.querySelector('.cs-carousel-caption');
  let current = 0;

  const captions = [
    'Clean bedding delivery system installation',
    'Pneumatic conveying lines routed through facility',
    'Dispensing station in vivarium housing area',
  ];

  function goTo(index) {
    current = index;
    slides.forEach((s, i) => s.classList.toggle('active', i === index));
    dots.forEach((d, i) => d.classList.toggle('active', i === index));
    if (caption) caption.textContent = captions[index] || '';
  }

  prevBtn?.addEventListener('click', () => {
    goTo(current > 0 ? current - 1 : slides.length - 1);
  });

  nextBtn?.addEventListener('click', () => {
    goTo(current < slides.length - 1 ? current + 1 : 0);
  });

  dots.forEach(dot => {
    dot.addEventListener('click', () => goTo(parseInt(dot.dataset.index)));
  });

  // Initialize caption
  goTo(0);

  // Auto-advance every 5s
  let autoplay = setInterval(() => {
    goTo(current < slides.length - 1 ? current + 1 : 0);
  }, 5000);

  // Pause autoplay on interaction
  const carousel = document.querySelector('.cs-carousel');
  carousel?.addEventListener('mouseenter', () => clearInterval(autoplay));
  carousel?.addEventListener('mouseleave', () => {
    autoplay = setInterval(() => {
      goTo(current < slides.length - 1 ? current + 1 : 0);
    }, 5000);
  });
</script>
