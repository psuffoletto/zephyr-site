---
import BaseLayout from '../../layouts/BaseLayout.astro';

const results = [
  { stat: '6', label: 'Machines Fed', desc: 'A single vacuum conveying system simultaneously feeds six filling machines from one bulk supply — eliminating manual drum handling.' },
  { stat: 'Zero', label: 'Dust Exposure', desc: 'Fully enclosed conveying from bulk bag to machine hopper eliminates airborne desiccant dust and keeps the packaging floor clean.' },
  { stat: '99.8%', label: 'Uptime', desc: 'Automated material delivery with level-sensing hoppers ensures machines never starve for material, virtually eliminating conveying-related downtime.' },
  { stat: 'ROI', label: '< 14 Months', desc: 'Labor savings from eliminating manual drum handling and reduced material waste delivered full payback in under 14 months.' },
];
---

<BaseLayout title="Desiccant Conveying to Filling Machines — Success Story" description="How Zephyr Equipment engineered a vacuum conveying system to deliver desiccant material from bulk supply to six filling machines for a desiccant manufacturer.">

  <!-- ===== HERO ===== -->
  <section class="cs-hero">
    <div class="cs-hero-bg"></div>
    <div class="cs-hero-overlay"></div>
    <div class="container cs-hero-content">
      <a href="/success-stories" class="cs-back">
        <svg width="16" height="16" viewBox="0 0 20 20" fill="none">
          <path d="M16 10H4M4 10L9 5M4 10L9 15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        All Success Stories
      </a>
      <span class="label" style="color: var(--zephyr-orange);">Packaging</span>
      <h1 class="display-lg" style="color: white; margin-top: 0.5rem;">Desiccant Conveying to<br /><span style="color: var(--zephyr-orange);">Filling Machines</span></h1>
      <p class="accent-text" style="color: var(--steel-300); margin-top: 0.5rem;">Automated vacuum conveying from bulk supply to six packaging lines — dust-free, continuous, and operator-free</p>
      <div class="cs-hero-meta">
        <div class="cs-meta-item">
          <span class="cs-meta-label">Client</span>
          <span class="cs-meta-value">Desiccant Manufacturer</span>
        </div>
        <div class="cs-meta-item">
          <span class="cs-meta-label">Industry</span>
          <span class="cs-meta-value">Desiccant Packaging</span>
        </div>
        <div class="cs-meta-item">
          <span class="cs-meta-label">Technology</span>
          <span class="cs-meta-value">Vacuum Dilute Phase Conveying</span>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== HERO IMAGE ===== -->
  <section class="cs-hero-image">
    <a href="/images/desiccant/desciccant-hero3.png" target="_blank" rel="noopener noreferrer" class="cs-hero-image-link">
      <img src="/images/desiccant/desciccant-hero3.png" alt="Bulk bag unloading station feeding vacuum conveying system" />
      <div class="cs-hero-image-expand">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="15 3 21 3 21 9"/>
          <polyline points="9 21 3 21 3 15"/>
          <line x1="21" y1="3" x2="14" y2="10"/>
          <line x1="3" y1="21" x2="10" y2="14"/>
        </svg>
        View Full Image
      </div>
    </a>
  </section>

  <!-- ===== INTRO ===== -->
  <section class="cs-section">
    <div class="container cs-container">
      <div class="cs-card reveal">
        <p class="cs-intro-text">
          A leading desiccant manufacturer needed to modernize their packaging operation. Operators were manually wheeling 55-gallon drums of silica gel and molecular sieve desiccant to each filling machine on the packaging floor — a labor-intensive, dusty process that couldn't keep pace with growing demand. Zephyr engineered a centralized vacuum conveying system that automatically delivers desiccant material from bulk bag unloading stations to the hoppers of six filling machines, eliminating manual handling entirely and keeping the packaging environment clean and dust-free.
        </p>
      </div>
    </div>
  </section>

  <!-- ===== THE CHALLENGE ===== -->
  <section class="cs-section">
    <div class="container cs-container">
      <div class="cs-section-header reveal">
        <span class="label" style="color: var(--zephyr-orange);">01 — The Challenge</span>
        <h2 class="display-md" style="margin-top: 0.5rem;">Manual Handling & Machine Starvation</h2>
      </div>
      <div class="cs-body reveal">
        <p>The facility's six filling machines were each fed by operators manually dumping desiccant from 55-gallon drums into machine hoppers. This process created airborne silica dust on the packaging floor, required dedicated labor around the clock, and frequently caused machines to sit idle waiting for material refills — directly impacting production throughput.</p>
        <p><strong>The facility needed to:</strong></p>
        <ul>
          <li>Eliminate manual drum handling and the associated labor costs across three shifts.</li>
          <li>Provide continuous, on-demand material delivery to six filling machines simultaneously.</li>
          <li>Contain fine silica gel and molecular sieve dust to maintain a clean packaging environment.</li>
          <li>Handle both silica gel beads and molecular sieve clay with a single conveying system.</li>
          <li>Integrate level sensing at each machine hopper to prevent material starvation and overfilling.</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- ===== THE SOLUTION ===== -->
  <section class="cs-section cs-solution-section">
    <div class="container cs-container">
      <div class="cs-section-header reveal">
        <span class="label" style="color: var(--zephyr-orange);">02 — The Solution</span>
        <h2 class="display-md" style="margin-top: 0.5rem;">Centralized Vacuum Conveying</h2>
      </div>
      <p class="cs-body-text reveal">Zephyr designed a centralized vacuum dilute phase conveying system to automate the full material path from bulk supply to machine hopper:</p>

      <div class="cs-process-flow">
        <div class="cs-process-step reveal" data-delay="0">
          <div class="cs-process-num">01</div>
          <div class="cs-process-content">
            <h3 class="cs-process-title">Bulk Bag Unloading</h3>
            <p>Two bulk bag unloading stations with integrated massaging paddles and bag spout closures introduce desiccant material into the system. Operators simply connect a new bag — no manual dumping or drum handling required.</p>
          </div>
        </div>
        <div class="cs-process-connector"></div>
        <div class="cs-process-step reveal" data-delay="1">
          <div class="cs-process-num">02</div>
          <div class="cs-process-content">
            <h3 class="cs-process-title">Vacuum Conveying Network</h3>
            <p>A central vacuum producer draws material through a network of stainless steel tubing routed across the packaging floor. Diverter valves direct material flow to whichever machine hopper calls for product, with line purge sequences preventing cross-contamination when switching between silica gel and molecular sieve runs.</p>
          </div>
        </div>
        <div class="cs-process-connector"></div>
        <div class="cs-process-step reveal" data-delay="2">
          <div class="cs-process-num">03</div>
          <div class="cs-process-content">
            <h3 class="cs-process-title">Vacuum Receivers at Each Machine</h3>
            <p>Each of the six filling machines is fitted with a dedicated vacuum receiver and filter assembly mounted above its existing hopper. Material is conveyed on demand, with receivers cycling automatically to maintain a consistent supply.</p>
          </div>
        </div>
        <div class="cs-process-connector"></div>
        <div class="cs-process-step reveal" data-delay="3">
          <div class="cs-process-num">04</div>
          <div class="cs-process-content">
            <h3 class="cs-process-title">Level-Sensing Hopper Control</h3>
            <p>Capacitance level probes in each machine hopper continuously monitor material levels. When a hopper drops below the low-level set point, the system automatically initiates a conveying cycle to refill it — ensuring machines never run empty and never overfill.</p>
          </div>
        </div>
        <div class="cs-process-connector"></div>
        <div class="cs-process-step reveal" data-delay="4">
          <div class="cs-process-num">05</div>
          <div class="cs-process-content">
            <h3 class="cs-process-title">Integrated Controls & Monitoring</h3>
            <p>A PLC-based control system manages sequencing, valve actuation, and vacuum producer operation across all six lines. A touchscreen HMI provides operators with real-time status of each hopper level, active conveying cycles, and system diagnostics — all from a single station on the packaging floor.</p>
          </div>
        </div>
      </div>

      <div class="cs-controls-note reveal">
        <p>The system was designed with quick-disconnect fittings and CIP-compatible connections at all receiver stations, allowing the facility to perform thorough cleanouts between product changeovers with minimal downtime.</p>
      </div>
    </div>
  </section>

  <!-- ===== THE RESULT ===== -->
  <section class="cs-section">
    <div class="container cs-container">
      <div class="cs-section-header reveal">
        <span class="label" style="color: var(--zephyr-orange);">03 — The Result</span>
        <h2 class="display-md" style="margin-top: 0.5rem;">Measurable Impact</h2>
      </div>
      <p class="cs-body-text reveal">The system delivered immediate operational improvements across the packaging floor:</p>

      <div class="cs-results-grid">
        {results.map((r, i) => (
          <div class="cs-result-card reveal" data-delay={i}>
            <div class="cs-result-stat">{r.stat}</div>
            <div class="cs-result-label">{r.label}</div>
            <p class="cs-result-desc">{r.desc}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- ===== PARTNERSHIP ===== -->
  <section class="cs-section">
    <div class="container cs-container">
      <div class="cs-card cs-card--dark reveal">
        <h3 class="display-md" style="color: white; margin-bottom: 1rem;">Engineered for Your Process</h3>
        <p style="color: var(--steel-300); font-weight: 300; line-height: 1.7;">
          Every packaging line has different requirements — machine spacing, material characteristics, changeover frequency, and throughput targets all factor into system design. Zephyr works directly with your operations and engineering teams from initial concept through commissioning to deliver a conveying system that fits your process exactly. Whether you're feeding two machines or twenty, we engineer a solution sized and configured for your facility.
        </p>
      </div>
    </div>
  </section>

  <!-- ===== GALLERY ===== -->
  <section class="cs-gallery">
    <div class="container cs-container">
      <div class="cs-section-header reveal">
        <span class="label" style="color: var(--zephyr-orange);">On the Floor</span>
        <h2 class="display-md" style="color: white; margin-top: 0.5rem;">Before & After</h2>
      </div>
      <div class="cs-gallery-grid">
        <div class="cs-gallery-item reveal" data-delay="0">
          <img src="/images/desiccant/desiccant-install2.jpg" alt="Manual drum handling — the problem this system replaced" />
          <span class="cs-gallery-caption">The Problem — Manual drum handling on the packaging floor</span>
        </div>
        <div class="cs-gallery-item reveal" data-delay="1">
          <img src="/images/desiccant/desiccant-install1.jpg" alt="Installed vacuum conveying system — the automated solution" />
          <span class="cs-gallery-caption">The Solution — Automated vacuum conveying system installed</span>
        </div>
      </div>
      <div class="cs-gallery-video-trigger reveal" data-delay="2">
        <button id="videoPlayBtn" class="cs-play-btn" aria-label="Play video">
          <svg width="48" height="48" viewBox="0 0 48 48" fill="none">
            <circle cx="24" cy="24" r="23" stroke="white" stroke-width="2"/>
            <path d="M19 15L35 24L19 33V15Z" fill="white"/>
          </svg>
          <span>Click to Play</span>
        </button>
        <span class="cs-gallery-caption">The system in action — continuous desiccant delivery to filling machines</span>
      </div>
    </div>
  </section>

  <!-- ===== VIDEO MODAL ===== -->
  <div id="videoModal" class="cs-video-modal">
    <div class="cs-video-modal-backdrop"></div>
    <div class="cs-video-modal-content">
      <button id="videoCloseBtn" class="cs-video-modal-close" aria-label="Close video">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
      </button>
      <video id="modalVideo" loop muted playsinline>
        <source src="/images/desiccant/desiccant-video-1.mp4" type="video/mp4" />
      </video>
    </div>
  </div>

  <!-- ===== CTA ===== -->
  <section class="cs-cta reveal">
    <div class="container" style="text-align: center;">
      <span class="label" style="color: var(--zephyr-orange);">Start Your Project</span>
      <h2 class="display-lg" style="color: white; margin-top: 0.75rem;">Let's Engineer<br />Your Solution</h2>
      <p style="color: var(--steel-300); max-width: 500px; margin: 1rem auto 2rem; font-weight: 300; line-height: 1.7;">
        Tell us about your desiccant handling challenge and we'll design a conveying system tailored to your packaging operation.
      </p>
      <a href="/contact" class="btn btn--primary">Get a Quote</a>
    </div>
  </section>

</BaseLayout>

<style>
  /* ===== HERO ===== */
  .cs-hero {
    position: relative;
    padding: 10rem 2rem 4rem;
    overflow: hidden;
  }

  .cs-hero-bg {
    position: absolute; inset: 0;
    background: var(--steel-900);
  }

  .cs-hero-overlay {
    position: absolute; inset: 0;
    background:
      radial-gradient(ellipse at 20% 80%, rgba(232, 97, 45, 0.08) 0%, transparent 50%),
      radial-gradient(ellipse at 80% 20%, rgba(52, 73, 94, 0.15) 0%, transparent 50%);
  }

  .cs-hero-content {
    position: relative;
    z-index: 1;
  }

  /* ===== HERO IMAGE ===== */
  .cs-hero-image {
    width: 100%;
    height: 520px;
    overflow: hidden;
  }

  .cs-hero-image-link {
    display: block;
    width: 100%;
    height: 100%;
    position: relative;
    cursor: pointer;
  }

  .cs-hero-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
  }

  .cs-hero-image-expand {
    position: absolute;
    bottom: 1rem;
    right: 1rem;
    display: flex;
    align-items: center;
    gap: 0.4rem;
    padding: 0.5rem 1rem;
    background: rgba(0,0,0,0.6);
    backdrop-filter: blur(4px);
    color: white;
    font-family: var(--font-display);
    font-size: 0.7rem;
    font-weight: 600;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    border-radius: 2px;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .cs-hero-image-link:hover .cs-hero-image-expand {
    opacity: 1;
  }

  .cs-back {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    font-family: var(--font-display);
    font-size: 0.75rem;
    font-weight: 600;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: var(--steel-400);
    text-decoration: none;
    margin-bottom: 1.5rem;
    transition: color 0.2s ease;
  }
  .cs-back:hover { color: var(--zephyr-orange); }

  /* ===== TIGHTER SECTIONS ===== */
  .cs-section {
    padding: 1.5rem 0;
  }

  .cs-hero-meta {
    display: flex;
    flex-wrap: wrap;
    gap: 2.5rem;
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid rgba(255,255,255,0.08);
  }

  .cs-meta-label {
    display: block;
    font-family: var(--font-display);
    font-weight: 600;
    font-size: 0.65rem;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--zephyr-orange);
    margin-bottom: 0.25rem;
  }

  .cs-meta-value {
    font-size: 0.9rem;
    color: var(--steel-200);
    font-weight: 300;
  }

  /* ===== CONTENT ===== */
  .cs-container {
    max-width: 900px;
  }

  .cs-card {
    background: white;
    padding: 2.5rem;
    border-left: 4px solid var(--zephyr-orange);
    box-shadow: 0 4px 24px rgba(0,0,0,0.04);
  }

  .cs-card--dark {
    background: var(--steel-900);
    border-left-color: var(--zephyr-orange);
  }

  .cs-intro-text {
    font-size: 1.1rem;
    line-height: 1.8;
    color: var(--steel-700);
    font-weight: 300;
  }

  .cs-section-header {
    margin-bottom: 1.5rem;
  }

  .cs-body p, .cs-body-text {
    font-weight: 300;
    color: var(--steel-600);
    line-height: 1.75;
    font-size: 0.95rem;
    margin-bottom: 1rem;
  }

  .cs-body strong {
    color: var(--steel-800);
    font-weight: 600;
  }

  .cs-body ul {
    list-style: none;
    padding: 0;
    margin-bottom: 1rem;
  }

  .cs-body ul li {
    position: relative;
    padding-left: 1.5rem;
    font-weight: 300;
    color: var(--steel-600);
    line-height: 1.75;
    font-size: 0.95rem;
    margin-bottom: 0.5rem;
  }

  .cs-body ul li::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0.55rem;
    width: 8px;
    height: 8px;
    background: var(--zephyr-orange);
    transform: rotate(45deg);
  }

  /* ===== SOLUTION - PROCESS FLOW ===== */
  .cs-solution-section {
    background: var(--steel-50);
  }

  .cs-process-flow {
    margin-top: 1.5rem;
  }

  .cs-process-step {
    display: flex;
    gap: 1.5rem;
    padding: 1.5rem 2rem;
    background: white;
    border-left: 3px solid transparent;
    transition: all 0.3s ease;
  }

  .cs-process-step:hover {
    border-left-color: var(--zephyr-orange);
    background: var(--steel-800);
  }

  .cs-process-num {
    font-family: var(--font-display);
    font-weight: 300;
    font-size: 1.8rem;
    color: var(--steel-200);
    line-height: 1;
    min-width: 2.5rem;
    transition: color 0.3s ease;
  }

  .cs-process-step:hover .cs-process-num {
    color: var(--zephyr-orange);
  }

  .cs-process-title {
    font-family: var(--font-display);
    font-weight: 700;
    font-size: 0.95rem;
    text-transform: uppercase;
    letter-spacing: 0.02em;
    color: var(--steel-800);
    margin-bottom: 0.5rem;
    transition: color 0.3s ease;
  }

  .cs-process-step:hover .cs-process-title {
    color: white;
  }

  .cs-process-content p {
    font-weight: 400;
    color: var(--steel-700);
    line-height: 1.7;
    font-size: 1rem;
    margin: 0;
    transition: color 0.3s ease;
  }

  .cs-process-step:hover .cs-process-content p {
    color: var(--steel-300);
  }

  .cs-process-connector {
    width: 2px;
    height: 1.25rem;
    background: var(--steel-200);
    margin-left: 3.25rem;
  }

  .cs-controls-note {
    margin-top: 1.5rem;
    padding: 1.5rem 2rem;
    background: white;
    border-left: 4px solid var(--zephyr-orange);
  }

  .cs-controls-note p {
    font-weight: 300;
    color: var(--steel-600);
    line-height: 1.7;
    font-size: 0.9rem;
    margin: 0;
  }

  /* ===== RESULTS ===== */
  .cs-results-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1.5rem;
    margin-top: 1.5rem;
  }

  .cs-result-card {
    padding: 1.5rem;
    background: white;
    border-top: 3px solid transparent;
    transition: all 0.3s ease;
  }
  .cs-result-card:hover {
    border-top-color: var(--zephyr-orange);
    box-shadow: 0 8px 32px rgba(0,0,0,0.06);
    transform: translateY(-2px);
  }

  .cs-result-stat {
    font-family: var(--font-display);
    font-weight: 800;
    font-size: 1.4rem;
    text-transform: uppercase;
    color: var(--zephyr-orange);
    line-height: 1;
  }

  .cs-result-label {
    font-family: var(--font-display);
    font-weight: 600;
    font-size: 0.65rem;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--steel-400);
    margin-top: 0.25rem;
    margin-bottom: 0.75rem;
  }

  .cs-result-desc {
    font-weight: 300;
    color: var(--steel-500);
    line-height: 1.65;
    font-size: 0.82rem;
  }

  /* ===== GALLERY ===== */
  .cs-gallery {
    background: var(--steel-900);
    padding: 3rem 0;
  }

  .cs-gallery-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
    margin-top: 1.5rem;
  }

  .cs-gallery-item img {
    width: 100%;
    height: 320px;
    object-fit: cover;
    border-radius: 2px;
  }

  .cs-gallery-caption {
    display: block;
    font-family: var(--font-display);
    font-weight: 500;
    font-size: 0.75rem;
    letter-spacing: 0.05em;
    color: var(--steel-400);
    margin-top: 0.75rem;
  }

  .cs-gallery-video-trigger {
    margin-top: 1.5rem;
    text-align: center;
  }

  .cs-play-btn {
    display: inline-flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
    padding: 2rem 3rem;
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .cs-play-btn:hover {
    background: rgba(232, 97, 45, 0.1);
    border-color: var(--zephyr-orange);
  }

  .cs-play-btn span {
    font-family: var(--font-display);
    font-weight: 600;
    font-size: 0.75rem;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: white;
  }

  .cs-play-btn:hover span {
    color: var(--zephyr-orange);
  }

  /* ===== VIDEO MODAL ===== */
  .cs-video-modal {
    display: none;
    position: fixed;
    inset: 0;
    z-index: 9999;
    align-items: center;
    justify-content: center;
  }

  .cs-video-modal.active {
    display: flex;
  }

  .cs-video-modal-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.85);
  }

  .cs-video-modal-content {
    position: relative;
    max-width: 90vw;
    max-height: 85vh;
  }

  .cs-video-modal-content video {
    max-width: 90vw;
    max-height: 85vh;
    border-radius: 4px;
    object-fit: contain;
  }

  .cs-video-modal-close {
    position: absolute;
    top: -2.5rem;
    right: 0;
    background: none;
    border: none;
    color: white;
    cursor: pointer;
    opacity: 0.7;
    transition: opacity 0.2s ease;
  }

  .cs-video-modal-close:hover {
    opacity: 1;
  }

  @media (max-width: 768px) {
    .cs-gallery-grid { grid-template-columns: 1fr; }
    .cs-gallery-item img { height: 240px; }
  }

  /* ===== CTA ===== */
  .cs-cta {
    background: var(--steel-800);
    padding: 4rem 2rem;
  }

  /* ===== RESPONSIVE ===== */
  @media (max-width: 768px) {
    .cs-hero { padding: 8rem 2rem 3rem; }
    .cs-hero-image { height: 280px; }
    .cs-section { padding: 1.25rem 0; }
    .cs-hero-meta { gap: 1.5rem; }
    .cs-results-grid { grid-template-columns: 1fr 1fr; }
    .cs-card { padding: 1.5rem; }
    .cs-process-step { padding: 1.25rem 1.5rem; }
  }

  @media (max-width: 480px) {
    .cs-results-grid { grid-template-columns: 1fr; }
  }
</style>

<script>
  const playBtn = document.getElementById('videoPlayBtn');
  const modal = document.getElementById('videoModal');
  const closeBtn = document.getElementById('videoCloseBtn');
  const backdrop = modal?.querySelector('.cs-video-modal-backdrop');
  const video = document.getElementById('modalVideo') as HTMLVideoElement;

  function openModal() {
    modal?.classList.add('active');
    video?.play();
    document.body.style.overflow = 'hidden';
  }

  function closeModal() {
    modal?.classList.remove('active');
    video?.pause();
    video.currentTime = 0;
    document.body.style.overflow = '';
  }

  playBtn?.addEventListener('click', openModal);
  closeBtn?.addEventListener('click', closeModal);
  backdrop?.addEventListener('click', closeModal);
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && modal?.classList.contains('active')) closeModal();
  });
</script>
