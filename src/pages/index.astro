---
import BaseLayout from '../layouts/BaseLayout.astro';

const capabilities = [
  { title: 'Custom Engineering', desc: 'Every system designed to your exact specifications — no off-the-shelf compromises.', img: '/images/capabilities/custom-engineering.jpg' },
  { title: 'In-House Manufacturing', desc: 'Complete fabrication capability from raw steel to finished equipment, all under one roof.', img: '/images/capabilities/manufacturing.jpg' },
  { title: 'PLC Integration', desc: 'Full control system design with ladder logic programming across multiple PLC platforms.', img: '/images/capabilities/plc-integration.jpg' },
  { title: 'Field Support', desc: 'Installation assistance, commissioning, and ongoing technical support for every system we build.', img: '/images/capabilities/field-support.jpg' },
];
---

<BaseLayout title="Home">

  <!-- ===== HERO ===== -->
  <section class="hero">
    <div class="hero-slideshow">
      <div class="hero-slide active" style="background-image: url('/images/hero/homepage-hero1.jpg');"></div>
      <div class="hero-slide" style="background-image: url('/images/hero/homepage-hero2.jpg');"></div>
      <div class="hero-slide" style="background-image: url('/images/hero/homepage-hero4.jpg');"></div>
      <div class="hero-slide" style="background-image: url('/images/hero/homepage-hero5.jpg');"></div>
      <div class="hero-slide" style="background-image: url('/images/hero/homepagehero-6.jpg');"></div>
      <div class="hero-slide" style="background-image: url('/images/hero/homepagehero-8.jpg');"></div>
      <div class="hero-slide" style="background-image: url('/images/hero/homepagehero-9.jpg');"></div>
      <div class="hero-slide" style="background-image: url('/images/hero/homepage-hero10.png');"></div>
    </div>
    <div class="hero-overlay"></div>
    <div class="hero-grid"></div>
    <div class="hero-content">
      <div class="hero-eyebrow">
        <div class="hero-diamond"></div>
        <span>Zephyr Equipment, LLC</span>
        <div class="hero-diamond"></div>
      </div>
      <h1 class="display-xl">Moving What<br /><span class="orange">Matters</span></h1>
      <p class="hero-tagline accent-text">Built in Buffalo, NY</p>
      <p class="hero-subtitle">
        Custom-designed bulk material handling equipment — unloading, conveying, filling,
        storage, and filtration systems built for the toughest environments.
      </p>
      <div class="hero-actions">
        <a href="/bulk" class="btn btn--primary">View Products</a>
        <a href="/contact" class="btn btn--outline" style="color: white; border-color: rgba(255,255,255,0.3);">
          Let's Connect
        </a>
      </div>
    </div>
    <a href="#what-we-do" class="hero-scroll">
      <span>Explore</span>
      <div class="hero-scroll-line"></div>
    </a>
  </section>

  <div class="page-content">
  <!-- ===== INDUSTRY SOLUTIONS ===== -->
  <section class="industries reveal" style="background: var(--steel-900); padding: 2rem 2rem;">
    <div class="container" style="max-width: 1200px;">
      <div class="section-header" style="text-align: center; margin-bottom: 1.25rem;">
        <span class="label" style="color: var(--zephyr-orange);">Markets We Serve</span>
        <h2 class="display-lg" style="margin-top: 0.25rem; color: white;">Industry Solutions</h2>
      </div>
      <div class="industries-track-wrapper">
        <div class="industries-track">
          {[
            { name: 'Life Science', img: '/images/industries/life-science.jpg' },
            { name: 'Bakery', img: '/images/industries/bakery.jpg' },
            { name: 'Chemical', img: '/images/industries/chemical.jpg' },
            { name: 'Snack Foods', img: '/images/industries/snack-foods.jpg' },
            { name: 'Plastics', img: '/images/industries/plastics.jpg' },
            { name: 'Dairy', img: '/images/industries/dairy.jpg' },
            { name: 'Nutraceuticals', img: '/images/industries/nutraceuticals.jpg' },
            { name: 'Pharmaceuticals', img: '/images/industries/pharmaceuticals.jpg' },
            { name: 'Pet Food', img: '/images/industries/pet-food.jpg' },
            { name: 'Batteries', img: '/images/industries/batteries.jpg' },
            { name: 'Paint & Pigments', img: '/images/industries/paint-pigments.jpg' },
            { name: 'Ceramics', img: '/images/industries/ceramics.jpg' },
          ].map((industry) => (
            <div class="industry-card">
              <div class="industry-img" style={`background-image: url('${industry.img}');`}></div>
              <span class="industry-name">{industry.name}</span>
            </div>
          ))}
          {/* Duplicate set for seamless loop */}
          {[
            { name: 'Life Science', img: '/images/industries/life-science.jpg' },
            { name: 'Bakery', img: '/images/industries/bakery.jpg' },
            { name: 'Chemical', img: '/images/industries/chemical.jpg' },
            { name: 'Snack Foods', img: '/images/industries/snack-foods.jpg' },
            { name: 'Plastics', img: '/images/industries/plastics.jpg' },
            { name: 'Dairy', img: '/images/industries/dairy.jpg' },
            { name: 'Nutraceuticals', img: '/images/industries/nutraceuticals.jpg' },
            { name: 'Pharmaceuticals', img: '/images/industries/pharmaceuticals.jpg' },
            { name: 'Pet Food', img: '/images/industries/pet-food.jpg' },
            { name: 'Batteries', img: '/images/industries/batteries.jpg' },
            { name: 'Paint & Pigments', img: '/images/industries/paint-pigments.jpg' },
            { name: 'Ceramics', img: '/images/industries/ceramics.jpg' },
          ].map((industry) => (
            <div class="industry-card">
              <div class="industry-img" style={`background-image: url('${industry.img}');`}></div>
              <span class="industry-name">{industry.name}</span>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- ===== MARKET SEGMENTS ===== -->
  <section id="what-we-do" class="section" style="background: white; padding: 5rem 2rem;">
    <div class="container" style="max-width: 1400px;">
      <div class="section-header reveal" style="text-align: center; margin-bottom: 2.5rem;">
        <span class="label" style="color: var(--zephyr-orange);">Our Markets</span>
        <h2 class="display-lg" style="margin-top: 0.5rem;">What We Do</h2>
      </div>

      <div class="ms-accordion reveal">
        <div class="ms-panel ms-panel--offwhite" data-index="0">
          <div class="ms-pattern"></div>
          <div class="ms-img" style="background-image: url('https://static.wixstatic.com/media/9d739b_b4e9e4b4bb4f4c08b9bea3f033c88464~mv2.jpg');"></div>
          <img src="/images/products/renders/vac-dense-phase-render.png" alt="Vacuum dense phase conveying system" class="ms-render" />
          <span class="ms-collapsed-title">Bulk</span>
          <div class="ms-number">01</div>
          <div class="ms-content">
            <div class="ms-subtitle">Industrial Solutions</div>
            <h3 class="ms-title">Bulk Handling Systems</h3>
            <p class="ms-desc">Complete pneumatic conveying systems for dry bulk materials — unloading, filling, storage, filtration, conveying, and controls. Engineered and manufactured for industrial, food, pharmaceutical, and chemical processing applications.</p>
            <div class="ms-tags">
              <a href="/products/unload">Unload</a>
              <a href="/products/fill">Fill</a>
              <a href="/products/convey">Convey</a>
              <a href="/products/filter">Filter</a>
              <a href="/products/automate">Automate</a>
            </div>
            <a href="/bulk" class="ms-cta">Explore Bulk</a>
          </div>
          <div class="ms-accent"></div>
        </div>
        <div class="ms-panel ms-panel--lightblue" data-index="1">
          <div class="ms-pattern"></div>
          <div class="ms-img" style="background-image: url('/images/products/heroes/bedding-hero.jpg');"></div>
          <img src="/images/products/renders/bhs-render.png" alt="Bedding handling system" class="ms-render" />
          <span class="ms-collapsed-title">Bedding</span>
          <div class="ms-number">02</div>
          <div class="ms-content">
            <div class="ms-subtitle">Life Science Systems</div>
            <h3 class="ms-title">Bedding Handling Systems</h3>
            <p class="ms-desc">Integrated bedding delivery, dispensing, and waste disposal systems for vivarium and laboratory animal facilities. Designed for clean, efficient bedding management in life science environments.</p>
            <div class="ms-tags">
              <a href="/bedding/delivery">Delivery</a>
              <a href="/bedding/dispensing">Dispensing</a>
              <a href="/bedding/disposal">Disposal</a>
            </div>
            <a href="/bedding" class="ms-cta">Explore Bedding</a>
          </div>
          <div class="ms-accent"></div>
        </div>
        <div class="ms-panel ms-panel--orange" data-index="2">
          <div class="ms-pattern"></div>
          <div class="ms-img" style="background-image: url('/images/dust-collector-hero.jpg');"></div>
          <img src="/images/dust-render.png" alt="Dust collection system" class="ms-render" />
          <span class="ms-collapsed-title">Dust Collection</span>
          <div class="ms-number">03</div>
          <div class="ms-content">
            <div class="ms-subtitle">Industrial Ventilation</div>
            <h3 class="ms-title">Dust Collection Systems</h3>
            <p class="ms-desc">Engineered dust collection systems for industrial environments — cartridge collectors, baghouse filters, and custom ventilation solutions designed to meet the most demanding air quality requirements.</p>
            <div class="ms-tags">
              <a href="/dust-collection">Cartridge Collectors</a>
              <a href="/dust-collection">Baghouse Filters</a>
              <a href="/dust-collection">Ventilation</a>
            </div>
            <a href="/dust-collection" class="ms-cta">Explore Dust Collection</a>
          </div>
          <div class="ms-accent"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== CTA ===== -->
  <section class="cta-section reveal">
    <div class="container" style="text-align: center;">
      <span class="label" style="color: var(--zephyr-orange);">Ready to get started?</span>
      <h2 class="display-lg" style="color: white; margin-top: 0.75rem;">Tell Us About<br />Your Application</h2>
      <p style="color: var(--steel-300); max-width: 500px; margin: 1rem auto 2rem; font-weight: 300; line-height: 1.7;">
        Every project starts with a conversation. Share your material handling challenge and we'll engineer the right solution.
      </p>
      <a href="/contact" class="btn btn--primary">Let's Connect</a>
    </div>
  </section>

  <!-- ===== INNOVATIVE SOLUTIONS ===== -->
  <section class="innovations reveal" style="background: white; padding: 5rem 2rem;">
    <div class="container" style="max-width: 1200px;">
      <div class="section-header" style="text-align: center; margin-bottom: 2.5rem;">
        <span class="label" style="color: var(--zephyr-orange);">02 — Equipment</span>
        <h2 class="display-lg" style="margin-top: 0.5rem;">Innovative Solutions</h2>
      </div>

      <div class="inno-track-wrapper">
        <div class="inno-track">
          {[
            { name: 'LX Series', sub: 'Bedding Delivery', img: '/images/products/renders/lx-render.png', href: '/bedding/delivery/lx-series' },
            { name: 'MX Series', sub: 'Bedding Delivery', img: '/images/products/renders/mx-render.png', href: '/bedding/delivery/mx-series' },
            { name: 'VX Series', sub: 'Bedding Delivery', img: '/images/products/renders/vx-render.png', href: '/bedding/delivery/vx-series' },
            { name: '504 Series', sub: 'Bedding Dispensing', img: '/images/products/renders/504-render.png', href: '/bedding/dispensing/504-series' },
            { name: 'GF Series', sub: 'Waste Disposal', img: '/images/products/renders/gf-render.png', href: '/bedding/disposal/gf-series' },
            { name: '14V Unloader', sub: 'Bulk Unloading', img: '/images/products/renders/14v-product.png', href: '/products/unload/14v-direct-bag-unloader' },
            { name: 'Vac Dense Phase', sub: 'Bulk Conveying', img: '/images/vac-dense/vac-dense-phase-3d.png', href: '/success-stories/vacuum-dense-phase' },
          ].map((item) => (
            <a href={item.href} class="inno-card">
              <div class="inno-img-wrap"><img src={item.img} alt={item.name} /></div>
              <div class="inno-label">{item.name}</div>
              <div class="inno-sub">{item.sub}</div>
            </a>
          ))}
          {/* Duplicate for seamless loop */}
          {[
            { name: 'LX Series', sub: 'Bedding Delivery', img: '/images/products/renders/lx-render.png', href: '/bedding/delivery/lx-series' },
            { name: 'MX Series', sub: 'Bedding Delivery', img: '/images/products/renders/mx-render.png', href: '/bedding/delivery/mx-series' },
            { name: 'VX Series', sub: 'Bedding Delivery', img: '/images/products/renders/vx-render.png', href: '/bedding/delivery/vx-series' },
            { name: '504 Series', sub: 'Bedding Dispensing', img: '/images/products/renders/504-render.png', href: '/bedding/dispensing/504-series' },
            { name: 'GF Series', sub: 'Waste Disposal', img: '/images/products/renders/gf-render.png', href: '/bedding/disposal/gf-series' },
            { name: '14V Unloader', sub: 'Bulk Unloading', img: '/images/products/renders/14v-product.png', href: '/products/unload/14v-direct-bag-unloader' },
            { name: 'Vac Dense Phase', sub: 'Bulk Conveying', img: '/images/vac-dense/vac-dense-phase-3d.png', href: '/success-stories/vacuum-dense-phase' },
          ].map((item) => (
            <a href={item.href} class="inno-card">
              <div class="inno-img-wrap"><img src={item.img} alt={item.name} /></div>
              <div class="inno-label">{item.name}</div>
              <div class="inno-sub">{item.sub}</div>
            </a>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- ===== CAPABILITIES ===== -->
  <section class="section" style="background: linear-gradient(135deg, #C8D6E5 0%, #B0C4D4 100%);">
    <div class="container">
      <div class="section-header reveal">
        <span class="label" style="color: var(--zephyr-orange);">03 — Capabilities</span>
        <h2 class="display-lg" style="margin-top: 0.5rem;">How We Work</h2>
        <p class="accent-text" style="color: var(--steel-400); margin-top: 0.25rem;">From concept to commissioning</p>
      </div>

      <div class="capabilities-grid">
        {capabilities.map((cap, i) => (
          <div class="capability-card reveal" data-delay={i}>
            <div class="capability-pattern"></div>
            <div class="capability-bg" style={`background-image: url('${cap.img}');`}></div>
            <div class="capability-content">
              <div class="capability-num">{String(i + 1).padStart(2, '0')}</div>
              <h3 class="display-md" style="font-size: 1.3rem; margin-bottom: 0.75rem;">{cap.title}</h3>
              <p style="font-weight: 300; line-height: 1.65;">{cap.desc}</p>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- ===== BANNER ===== -->
  <section class="banner reveal">
    <div class="banner-pattern"></div>
    <div class="container" style="position: relative; text-align: center;">
      <h2 class="display-lg" style="color: white;">Custom Engineered.<br />American Built.</h2>
      <p class="accent-text" style="color: rgba(255,255,255,0.85); margin-top: 0.5rem;">Specializing in the customization of a broad product portfolio to meet the needs of our customers</p>
      <div class="banner-stats">
        <div class="banner-stat">
          <div class="banner-stat-num">100%</div>
          <div class="banner-stat-lbl">Custom Design</div>
        </div>
        <div class="banner-stat">
          <div class="banner-stat-num">12+</div>
          <div class="banner-stat-lbl">Industries Served</div>
        </div>
        <div class="banner-stat">
          <div class="banner-stat-num">NY</div>
          <div class="banner-stat-lbl">Manufactured</div>
        </div>
      </div>
    </div>
  </section>
  </div><!-- .page-content -->

</BaseLayout>

<style>
  /* ===== HERO ===== */
  .page-content {
    position: relative;
    z-index: 1;
    margin-top: calc(100vh - var(--header-height, 84px));
    background: var(--steel-900);
  }

  .hero {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 6rem 2rem 4rem;
    overflow: hidden;
    background: var(--steel-900);
    z-index: 0;
  }

  .hero-slideshow {
    position: absolute;
    inset: 0;
    background: var(--steel-900);
  }

  .hero-slide {
    position: absolute;
    inset: -5%;
    background-size: cover;
    background-position: center bottom;
    opacity: 0;
    transition: opacity 1.5s ease-in-out;
    will-change: opacity;
  }

  .hero-slide.active {
    opacity: 1;
    animation: heroZoom 7s ease-out forwards;
  }

  .hero-slide.exiting {
    opacity: 0;
  }

  @keyframes heroZoom {
    from { transform: scale(1.05); }
    to { transform: scale(1.12); }
  }

  .hero-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg, rgba(10, 16, 24, 0.5) 0%, rgba(10, 16, 24, 0.7) 100%);
  }

  .hero-grid {
    position: absolute;
    inset: 0;
    background-image:
      linear-gradient(rgba(232, 97, 45, 0.04) 1px, transparent 1px),
      linear-gradient(90deg, rgba(232, 97, 45, 0.04) 1px, transparent 1px);
    background-size: 60px 60px;
    mask-image: radial-gradient(ellipse at center, black 20%, transparent 65%);
  }

  .hero-content {
    position: relative;
    z-index: 1;
    animation: fadeUp 0.8s ease-out;
  }

  .hero-eyebrow {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 1.5rem;
  }

  .hero-diamond {
    width: 10px;
    height: 10px;
    background: var(--zephyr-orange);
    transform: rotate(45deg);
  }

  .hero-eyebrow span {
    font-family: var(--font-display);
    font-weight: 600;
    font-size: 1rem;
    letter-spacing: 0.3em;
    text-transform: uppercase;
    color: var(--zephyr-orange);
  }

  .hero h1 {
    color: white;
    margin-bottom: 0.5rem;
  }

  .orange { color: var(--zephyr-orange); }

  .hero-tagline {
    color: white;
    font-size: 1.4rem;
    margin-bottom: 1.5rem;
  }

  .hero-subtitle {
    font-weight: 300;
    font-size: 1.05rem;
    color: var(--off-white);
    max-width: 560px;
    margin: 0 auto 2.5rem;
    line-height: 1.65;
    text-shadow: 0 1px 4px rgba(0, 0, 0, 0.5);
  }

  .hero-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  .hero-scroll {
    position: absolute;
    bottom: 2.5rem;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
    z-index: 1;
    text-decoration: none;
    cursor: pointer;
    transition: opacity 0.2s ease;
  }
  .hero-scroll:hover { opacity: 0.7; }

  .hero-scroll span {
    font-family: var(--font-display);
    font-size: 0.9rem;
    font-weight: 600;
    letter-spacing: 0.25em;
    text-transform: uppercase;
    color: white;
  }

  .hero-scroll-line {
    width: 2px;
    height: 48px;
    background: linear-gradient(to bottom, var(--zephyr-orange), transparent);
    animation: scrollPulse 2s ease-in-out infinite;
  }

  /* ===== INDUSTRY SOLUTIONS ===== */
  .industries-track-wrapper {
    overflow: hidden;
    mask-image: linear-gradient(90deg, transparent 0%, black 8%, black 92%, transparent 100%);
  }

  .industries-track {
    display: flex;
    gap: 1.5rem;
    width: max-content;
    will-change: transform;
  }

  .industry-card {
    flex-shrink: 0;
    width: 140px;
    text-align: center;
    opacity: 0;
    transform: translateY(30px) scale(0.9);
    transition: opacity 0.5s ease, transform 0.5s ease;
  }

  .industries.in-view .industry-card {
    opacity: 1;
    transform: translateY(0) scale(1);
  }

  .industry-img {
    width: 120px;
    height: 120px;
    margin: 0 auto 0.75rem;
    border-radius: 6px;
    background-size: cover;
    background-position: center;
    background-color: var(--steel-100);
    border: 2px solid var(--steel-100);
    transition: border-color 0.3s ease, transform 0.3s ease;
  }

  .industry-card:hover .industry-img {
    border-color: var(--zephyr-orange);
    transform: translateY(-4px);
  }

  .industry-name {
    font-family: var(--font-display);
    font-weight: 600;
    font-size: 0.75rem;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    color: var(--steel-300);
    transition: color 0.3s ease;
  }

  .industry-card:hover .industry-name {
    color: var(--zephyr-orange);
  }

  .industry-img {
    border-color: var(--steel-700);
    background-color: var(--steel-800);
  }

  /* scroll-driven animation handled by JS */

  @media (max-width: 768px) {
    .industry-card { width: 110px; }
    .industry-img { width: 90px; height: 90px; }
  }

  /* ===== SECTION HEADERS ===== */
  .section-header {
    margin-bottom: 3rem;
  }

  /* ===== BANNER ===== */
  .banner {
    position: relative;
    background: var(--zephyr-orange);
    padding: 2.5rem 2rem;
    overflow: hidden;
  }

  .banner-pattern {
    position: absolute;
    inset: 0;
    background: url('/images/Logo/ZE-Pattern-O.png') repeat;
    background-size: 300px;
    opacity: 0.25;
  }

  .banner-stats {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 4rem;
    margin-top: 2.5rem;
  }

  .banner-stat { text-align: center; }

  .banner-stat-num {
    font-family: var(--font-display);
    font-weight: 900;
    font-size: 3rem;
    color: white;
    line-height: 1;
  }

  .banner-stat-lbl {
    font-family: var(--font-display);
    font-weight: 500;
    font-size: 0.65rem;
    letter-spacing: 0.25em;
    text-transform: uppercase;
    color: rgba(255, 255, 255, 0.7);
    margin-top: 0.25rem;
  }

  /* ===== CAPABILITIES ===== */
  .capabilities-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
  }

  .capability-card {
    position: relative;
    padding: 2rem;
    background: white;
    border-top: 3px solid transparent;
    transition: all 0.4s ease;
    overflow: hidden;
  }

  .capability-pattern {
    position: absolute; inset: 0; opacity: 0.04; pointer-events: none;
    background-image: repeating-linear-gradient(45deg, transparent, transparent 10px, var(--zephyr-orange) 10px, var(--zephyr-orange) 11px);
    transition: opacity 0.4s ease;
  }
  .capability-card:hover .capability-pattern { opacity: 0; }

  .capability-bg {
    position: absolute;
    inset: 0;
    background-size: cover;
    background-position: center;
    opacity: 0;
    transform: scale(1.1);
    transition: opacity 0.5s ease, transform 0.5s ease;
  }

  .capability-bg::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, rgba(10,18,37,0.85) 0%, rgba(78,106,128,0.8) 100%);
  }

  .capability-card:hover .capability-bg {
    opacity: 1;
    transform: scale(1);
  }

  .capability-content {
    position: relative;
    z-index: 1;
  }

  .capability-content p {
    color: var(--steel-400);
    transition: color 0.4s ease;
  }

  .capability-content h3 {
    transition: color 0.4s ease;
  }

  .capability-card:hover .capability-content p {
    color: rgba(255,255,255,0.8);
  }

  .capability-card:hover .capability-content h3 {
    color: white;
  }

  .capability-card:hover {
    border-top-color: var(--zephyr-orange);
    box-shadow: 0 8px 40px rgba(0, 0, 0, 0.15);
    transform: translateY(-4px);
  }

  .capability-num {
    font-family: var(--font-display);
    font-weight: 300;
    font-size: 2.5rem;
    color: var(--steel-100);
    line-height: 1;
    margin-bottom: 1rem;
    transition: color 0.4s ease;
  }

  .capability-card:hover .capability-num {
    color: var(--zephyr-orange);
  }

  /* ===== INNOVATIVE SOLUTIONS ===== */
  .inno-track-wrapper {
    overflow: hidden;
    mask-image: linear-gradient(90deg, transparent 0%, black 5%, black 95%, transparent 100%);
  }

  .inno-track {
    display: flex;
    gap: 2rem;
    width: max-content;
    animation: innoScroll 40s linear infinite;
  }

  .inno-track:hover {
    animation-play-state: paused;
  }

  .inno-card {
    flex-shrink: 0;
    width: 240px;
    text-align: center;
    text-decoration: none;
    color: inherit;
    padding: 1.5rem;
    border-radius: 6px;
    transition: all 0.3s ease;
  }

  .inno-card:hover {
    background: var(--steel-50);
    transform: translateY(-6px);
    box-shadow: 0 12px 40px rgba(0,0,0,0.08);
  }

  .inno-img-wrap {
    width: 100%;
    height: 200px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 1.25rem;
  }

  .inno-img-wrap img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    transition: transform 0.4s ease;
  }

  .inno-card:hover .inno-img-wrap img {
    transform: scale(1.08);
  }

  .inno-label {
    font-family: var(--font-display);
    font-weight: 700;
    font-size: 1.1rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 0.25rem;
    transition: color 0.3s ease;
  }

  .inno-card:hover .inno-label {
    color: var(--zephyr-orange);
  }

  .inno-sub {
    font-family: var(--font-display);
    font-weight: 500;
    font-size: 0.7rem;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: var(--steel-400);
  }

  @keyframes innoScroll {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
  }

  @media (max-width: 768px) {
    .inno-card { width: 200px; }
    .inno-img-wrap { height: 160px; }
  }

  /* ===== CTA ===== */
  .cta-section {
    background: var(--steel-900);
    padding: 6rem 2rem;
  }

  /* ===== ANIMATIONS ===== */
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(24px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes scrollPulse {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 1; }
  }

  /* ===== MARKET SEGMENTS ACCORDION ===== */
  .ms-accordion {
    display: flex;
    width: 100%;
    height: 620px;
    border-radius: 4px;
    overflow: hidden;
    box-shadow: 0 12px 60px rgba(0,0,0,0.1);
  }

  .ms-panel {
    flex: 1;
    position: relative;
    overflow: hidden;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    padding: 40px;
    transition: flex 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  }
  .ms-panel.expanded { flex: 3; }
  .ms-panel.collapsed { flex: 0.35; padding: 16px; }
  .ms-panel:not(:last-child) { border-right: 1px solid rgba(0,0,0,0.08); }

  .ms-panel--offwhite { background: linear-gradient(135deg, #FAFAF8 0%, #F0F2F5 100%); }
  .ms-panel--lightblue { background: linear-gradient(135deg, #C8D6E5 0%, #B0C4D4 100%); }
  .ms-panel--orange { background: linear-gradient(135deg, var(--zephyr-orange) 0%, #c43d0a 100%); }

  /* Background image layer */
  .ms-img {
    position: absolute; inset: 0;
    background-size: cover; background-position: center;
    opacity: 0;
    transition: opacity 0.6s ease;
    pointer-events: none;
  }
  .ms-img::after {
    content: '';
    position: absolute; inset: 0;
    background: linear-gradient(180deg, rgba(15,26,38,0.3) 0%, rgba(15,26,38,0.7) 100%);
  }
  .ms-panel.expanded .ms-img { opacity: 1; }

  .ms-render {
    position: absolute;
    top: 1.5rem;
    left: 50%;
    transform: translateX(-50%);
    max-height: 50%;
    max-width: 80%;
    object-fit: contain;
    opacity: 0.8;
    pointer-events: none;
    transition: opacity 0.5s ease;
  }
  .ms-panel.expanded .ms-render { opacity: 0; }
  .ms-panel.collapsed .ms-render { opacity: 0; }

  .ms-pattern {
    position: absolute; inset: 0; opacity: 0.04; pointer-events: none;
    background-image: repeating-linear-gradient(45deg, transparent, transparent 10px, currentColor 10px, currentColor 11px);
    transition: opacity 0.4s ease;
  }
  .ms-panel--offwhite .ms-pattern, .ms-panel--lightblue .ms-pattern { color: var(--zephyr-orange); }
  .ms-panel--orange .ms-pattern { color: white; }
  .ms-panel.expanded .ms-pattern { opacity: 0; }

  /* Collapsed vertical title — hidden by default, shown only when collapsed */
  .ms-collapsed-title {
    position: absolute; top: 50%; left: 50%;
    transform: translate(-50%, -50%) rotate(-90deg);
    white-space: nowrap;
    font-family: var(--font-display); font-weight: 700; font-size: 18px;
    letter-spacing: 6px; text-transform: uppercase;
    opacity: 0; transition: opacity 0.3s ease; pointer-events: none;
  }
  .ms-panel--offwhite .ms-collapsed-title { color: var(--zephyr-orange); }
  .ms-panel--lightblue .ms-collapsed-title { color: var(--steel-800); }
  .ms-panel--orange .ms-collapsed-title { color: white; }
  .ms-panel.collapsed .ms-collapsed-title { opacity: 1; }

  .ms-number {
    position: absolute; top: 24px; right: 24px;
    font-family: var(--font-display); font-size: 52px; font-weight: 300;
    opacity: 0.15; line-height: 1;
    transition: all 0.4s ease;
  }
  .ms-panel--offwhite .ms-number, .ms-panel--lightblue .ms-number { color: var(--zephyr-orange); }
  .ms-panel--orange .ms-number { color: white; }
  .ms-panel.expanded .ms-number { color: white; opacity: 0.2; }

  /* Content — visible by default at 50/50, enhanced when expanded */
  .ms-content {
    position: relative; z-index: 1;
    transition: all 0.4s ease 0.1s;
  }
  .ms-panel.collapsed .ms-content { opacity: 0; transform: translateY(20px); pointer-events: none; }
  .ms-panel.expanded .ms-content { pointer-events: auto; }

  .ms-subtitle {
    font-family: var(--font-display); font-weight: 600;
    font-size: 12px; letter-spacing: 4px; text-transform: uppercase;
    margin-bottom: 6px;
    transition: color 0.4s ease;
  }
  .ms-panel--offwhite .ms-subtitle, .ms-panel--lightblue .ms-subtitle { color: var(--zephyr-orange); }
  .ms-panel--orange .ms-subtitle { color: rgba(255,255,255,0.85); }
  .ms-panel.expanded .ms-subtitle { color: var(--zephyr-orange); }
  .ms-panel--orange.expanded .ms-subtitle { color: rgba(255,255,255,0.85); }

  .ms-title {
    font-family: var(--font-display); font-weight: 800;
    font-size: 38px; text-transform: uppercase; letter-spacing: 3px;
    margin-bottom: 12px;
    transition: color 0.4s ease;
  }
  .ms-panel--offwhite .ms-title, .ms-panel--lightblue .ms-title { color: var(--steel-800); }
  .ms-panel--orange .ms-title { color: white; }
  .ms-panel.expanded .ms-title { color: white; }

  .ms-desc {
    font-size: 0.85rem;
    font-weight: 300; line-height: 1.6; max-width: 440px; margin-bottom: 20px;
    transition: color 0.4s ease;
  }
  .ms-panel--offwhite .ms-desc { color: var(--steel-500); }
  .ms-panel--lightblue .ms-desc { color: var(--steel-700); }
  .ms-panel--orange .ms-desc { color: rgba(255,255,255,0.7); }
  .ms-panel.expanded .ms-desc { color: rgba(255,255,255,0.8); }

  .ms-tags { display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 20px; }
  .ms-tags a {
    display: inline-block;
    padding: 6px 14px; font-family: var(--font-display);
    font-size: 11px; letter-spacing: 1px; text-transform: uppercase;
    border-radius: 2px; text-decoration: none;
    transition: all 0.4s ease;
  }
  .ms-panel--offwhite .ms-tags a {
    background: rgba(0,0,0,0.05); color: var(--steel-700);
    border: 1px solid rgba(0,0,0,0.1);
  }
  .ms-panel--offwhite .ms-tags a:hover { background: rgba(0,0,0,0.1); }
  .ms-panel--lightblue .ms-tags a {
    background: rgba(0,0,0,0.06); color: var(--steel-800);
    border: 1px solid rgba(0,0,0,0.1);
  }
  .ms-panel--lightblue .ms-tags a:hover { background: rgba(0,0,0,0.12); }
  .ms-panel--orange .ms-tags a {
    background: rgba(255,255,255,0.15); color: white;
    border: 1px solid rgba(255,255,255,0.2);
  }
  .ms-panel--orange .ms-tags a:hover { background: rgba(255,255,255,0.25); }
  .ms-panel.expanded .ms-tags a {
    background: rgba(255,255,255,0.1); color: white;
    border-color: rgba(255,255,255,0.15);
  }
  .ms-panel.expanded .ms-tags a:hover { background: rgba(255,255,255,0.2); }

  .ms-cta {
    display: inline-block; padding: 12px 28px;
    font-family: var(--font-display); font-weight: 600;
    font-size: 12px; letter-spacing: 3px; text-transform: uppercase;
    text-decoration: none; border-radius: 2px;
    background: var(--zephyr-orange); color: white;
    transition: transform 0.2s, box-shadow 0.2s;
  }
  .ms-cta:hover { transform: translateY(-2px); box-shadow: 0 4px 20px rgba(0,0,0,0.3); }
  .ms-panel--orange .ms-cta { background: white; color: var(--zephyr-orange); }
  .ms-panel--orange.expanded .ms-cta { background: white; color: var(--zephyr-orange); }

  .ms-accent {
    position: absolute; bottom: 0; left: 0; right: 0; height: 4px;
    transform: scaleX(0); transform-origin: left;
    transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  }
  .ms-panel--offwhite .ms-accent, .ms-panel--lightblue .ms-accent { background: var(--zephyr-orange); }
  .ms-panel--orange .ms-accent { background: white; }
  .ms-panel.expanded .ms-accent { transform: scaleX(1); }

  @media (max-width: 768px) {
    .banner-stats { gap: 2.5rem; }
    .hero-actions { flex-direction: column; align-items: center; }
    .ms-accordion { flex-direction: column; height: auto; }
    .ms-panel { flex: none !important; padding: 28px 24px; }
    .ms-render { display: none; }
    .ms-panel.collapsed { height: 60px !important; padding: 14px 20px; }
    .ms-panel.expanded { padding: 28px 24px; }
    .ms-collapsed-title { transform: translate(-50%, -50%) rotate(0deg); font-size: 15px; letter-spacing: 4px; }
    .ms-title { font-size: 28px; }
    .ms-number { font-size: 36px; top: 12px; right: 14px; }
    .ms-desc { font-size: 0.8rem; max-width: 100%; }
  }
</style>

<script>
  // Hero slideshow — crossfade with subtle zoom
  (() => {
    const slides = document.querySelectorAll<HTMLElement>('.hero-slide');
    if (slides.length < 2) return;
    // Random start point
    let current = Math.floor(Math.random() * slides.length);
    slides[0].classList.remove('active');
    slides[current].classList.add('active');

    setInterval(() => {
      const prev = slides[current];
      // Freeze the outgoing slide's current zoom so it doesn't snap back
      const computed = getComputedStyle(prev);
      prev.style.transform = computed.transform;
      prev.classList.remove('active');
      prev.classList.add('exiting');

      current = (current + 1) % slides.length;
      const next = slides[current];
      next.style.transform = '';
      next.classList.remove('exiting');
      next.classList.add('active');

      // Clean up exiting slide after fade completes
      setTimeout(() => {
        prev.classList.remove('exiting');
        prev.style.transform = '';
      }, 1600);
    }, 6000);
  })();

  // Market Segments Accordion — hover on desktop, tap on mobile
  const msPanels = document.querySelectorAll('.ms-panel');
  const msAccordion = document.querySelector('.ms-accordion');
  const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;

  function resetPanels() {
    msPanels.forEach(p => {
      p.classList.remove('expanded', 'collapsed');
    });
  }

  function expandPanel(index: number) {
    msPanels.forEach((p, i) => {
      if (i === index) {
        p.classList.add('expanded');
        p.classList.remove('collapsed');
      } else {
        p.classList.add('collapsed');
        p.classList.remove('expanded');
      }
    });
  }

  if (isTouchDevice) {
    // Tap to expand, tap again to collapse
    msPanels.forEach(panel => {
      panel.addEventListener('click', (e) => {
        const target = e.target as HTMLElement;
        // Allow links inside expanded panels to work normally
        if (panel.classList.contains('expanded') && target.closest('a')) {
          return;
        }
        e.preventDefault();
        const idx = parseInt((panel as HTMLElement).dataset.index!);
        if (panel.classList.contains('expanded')) {
          resetPanels();
        } else {
          expandPanel(idx);
        }
      });
    });
  } else {
    // Hover behavior for desktop
    msPanels.forEach(panel => {
      panel.addEventListener('mouseenter', () => {
        expandPanel(parseInt((panel as HTMLElement).dataset.index!));
      });
    });

    msAccordion?.addEventListener('mouseleave', () => {
      resetPanels();
    });
  }

  // ===== INDUSTRY SOLUTIONS — scroll-driven carousel =====
  const industriesSection = document.querySelector('.industries') as HTMLElement;
  const track = document.querySelector('.industries-track') as HTMLElement;
  const cards = document.querySelectorAll('.industry-card');

  if (industriesSection && track) {
    // Staggered entrance animation when section scrolls into view
    const entranceObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          industriesSection.classList.add('in-view');
          cards.forEach((card, i) => {
            (card as HTMLElement).style.transitionDelay = `${i * 0.04}s`;
          });
          entranceObserver.unobserve(entry.target);
        }
      });
    }, { threshold: 0.2 });
    entranceObserver.observe(industriesSection);

    // Scroll-linked horizontal movement — only runs when section is visible
    let baseSpeed = 0.5; // px per frame for ambient drift
    let scrollOffset = 0;
    let lastScrollY = window.scrollY;
    let scrollVelocity = 0;
    const halfWidth = track.scrollWidth / 2;
    let isVisible = false;
    let rafId: number | null = null;

    function animateTrack() {
      if (!isVisible) { rafId = null; return; }

      const currentScrollY = window.scrollY;
      const delta = currentScrollY - lastScrollY;
      scrollVelocity += (delta * 0.3 - scrollVelocity) * 0.1;
      lastScrollY = currentScrollY;

      scrollOffset += baseSpeed + scrollVelocity;

      if (scrollOffset >= halfWidth) scrollOffset -= halfWidth;
      if (scrollOffset < 0) scrollOffset += halfWidth;

      track.style.transform = `translateX(-${scrollOffset}px)`;
      rafId = requestAnimationFrame(animateTrack);
    }

    const visibilityObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        isVisible = entry.isIntersecting;
        if (isVisible && !rafId) {
          lastScrollY = window.scrollY;
          rafId = requestAnimationFrame(animateTrack);
        }
      });
    }, { threshold: 0 });
    visibilityObserver.observe(industriesSection);
  }
</script>
